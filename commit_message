feat(v1-hardening): enforce workspace-scoped runtime, model/context propagation, and privacy-safe schema sync

- Add v1 security tests for runtime execute:
  - unauthenticated `/api/v1/workspaces/{workspace_id}/execute` returns `401`
  - workspace-scoped execute cannot read tables from another workspace DuckDB
- Add v1 session-consistency test to confirm auth cookie identity is used across `auth/me` and workspace APIs.
- Wire chat `model` + `context` through v1 service into LangGraph config/state.
- Update agent prompt inputs (`create_plan`, `codegen`, `noncode`) to consume user context.
- Update model selection to honor configured model for main generation path.
- Add privacy mode for browser dataset sync:
  - new `allow_sample_values` request flag
  - samples stripped by default unless explicitly enabled
  - frontend settings toggle in API tab and payload wiring from Data/Chat flows
- Stabilize desktop tracing wiring:
  - pass `INQUIRA_TOML_PATH` from Tauri backend launcher
  - move Phoenix instrumentation deps to runtime dependencies
- Fix backend test collection bug by renaming legacy route function in `app/api/api_test.py`.
- Fix Vite COI expectations by explicitly setting cross-origin isolation headers in dev + preview config.
- Reduce stale local persistence: app store local config now keeps UI preferences only, not auth/workspace/dataset pointers.
- Add/refresh regression tests for chat model/context, dataset privacy mode, runtime execute scope/security, and local state hygiene.

fix(v1-runtime): prevent schema/preview 404 on dataset catalog drift after dataset selection

- Runtime schema/preview endpoints now fall back to workspace DuckDB table existence when catalog row is missing.
- Return clear 404 `Dataset table not found` only when table is absent in workspace DB.
- Guard runtime schema read path against `None` dataset metadata.
- Dataset switcher now re-syncs non-browser dataset into active workspace before dispatching preview/schema refresh event.
- Added backend regression tests for catalog-drift fallback:
  - `backend/tests/test_v1_runtime_catalog_fallback.py`
- Added frontend regression test for selection-time dataset re-sync:
  - `frontend/test/datasetSelectionSync.test.mjs`

fix(dataset-select): use canonical v1 table name returned by add-dataset sync

- Dataset switch now captures `v1AddDataset` response and uses returned `table_name`/`source_path` for app state.
- Prevents stale hashed table ids from being propagated into preview/schema requests after re-sync.
- Updated selection-sync frontend regression test to assert canonical table-name adoption.

feat(v1-preferences): move frontend persistence to backend preferences + keychain-backed API key storage

- Added new v1 preferences API:
  - `GET /api/v1/preferences`
  - `PUT /api/v1/preferences`
  - `PUT /api/v1/preferences/api-key`
  - `DELETE /api/v1/preferences/api-key`
- Added `v1_user_preferences` ORM model + Alembic migration (`0003_v1_user_preferences`) for persisted UI/runtime preferences.
- Added backend repository/schema/service layers for preferences and OS-keychain secret handling.
- Chat runtime now falls back to OS keychain API key when `api_key` is omitted in request payload.
- Frontend removed `localStorage` usage entirely:
  - app preferences now sync to backend preferences API
  - shortcuts modal preference persisted via backend preferences
  - chat requests no longer send API key payload by default
- API key setup UI now persists securely and reflects key configured status.
- Added regression tests:
  - frontend: `localStateHygiene.test.mjs` (no browser storage usage)
  - frontend: `secureApiKeyStorage.test.mjs` (secure endpoint wiring)
  - backend: `test_v1_chat_no_dataset_fallback.py` keychain fallback case
  - backend: `test_v1_api_contract.py` preferences route contract assertions

fix(secrets): switch API key secure storage to cross-platform keyring backend

- Replaced macOS-only `security` CLI usage with Python `keyring` integration in `SecretStorageService`.
- API keys now map to OS-native secure stores across platforms (Windows Credential Manager, macOS Keychain, Linux Secret Service/KWallet depending on backend).
- Added explicit runtime error when `keyring` package is unavailable.
- Added regression test `backend/tests/test_v1_secret_storage_service.py` to validate set/get/delete behavior via keyring module.
- Added backend dependency `keyring>=25.6.0`.
